#!/bin/sh

# Get the current branch
current_branch=$(git rev-parse --abbrev-ref HEAD)

# Define the protected branch
protected_branch="main"

# Check if the current branch is the protected branch
if [ "$current_branch" = "$protected_branch" ]; then
    # Skip interactive prompt for main branch commits
    echo "ℹ️ Committing to $protected_branch branch"
    pnpm run format:check
fi

# If not the protected branch, check formatting (on changed files, block)
pnpm run format:check
